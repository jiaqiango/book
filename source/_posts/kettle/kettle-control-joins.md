---
title: kettle连接控件
date: 2020-12-15 14:37:18
tags:
categories:
- [kettle]
---

- [合并记录](#合并记录)
- [记录集连接](#记录集连接)
- [记录关联](#记录关联)


##### 合并记录
将两个不同来源的数据合并，这两个来源的数据分别为旧数据和新数据，该步骤将旧数据和新数据按照指定的关键字匹配、比较、合并
+ 需要设置的参数：
    + 旧数据来源：旧数据来源的步骤。
    + 新数据来源：新数据来源的步骤。
+ 标志字段：设置标志字段的名称，标志字段用于保存比较的结果，比较结果有下列几种。
    + "identical"，旧数据和新数据一样。
    + "changed" ，数据发生了变化。
    + "new"， 新数据中有而旧数据中没有的记录。
    + "deleted"，旧数据中有而新数据中没有的记录。
+ 关键字段：用于定位两个数据源中的同一条记录。
    + 比较字段：对于两个数据源中的同一条记录中，指定需要比较的字段。
    + 合并后的数据将包括旧数据来源和新数据来源里的所有数据，对于变化的数据，使用新数据代替旧数据，同时在结果里用一个标示字段，来指定新旧数据的比较结果。
+ 注意：
    + 旧数据和新数据需要事先按照关键字段排序。
    + 旧数据和新数据要有相同的字段名称。

{% asset_img ikppamhpim.png %}

##### 记录集连接
数据库的左连接、右连接、内连接、外连接。
* 注意：在进行记录集连接之前，应该要对记录集进行排序
{% asset_img rnsq3ft2g8.png %}

##### 记录关联
对两个数据流进行笛卡尔积
{% asset_img y9xbnutwp2.png %}


