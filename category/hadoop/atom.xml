<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>http://book.asmyun.com</id>
    <title>Hexo • Posts by &#34;hadoop&#34; category</title>
    <link href="http://book.asmyun.com" />
    <updated>2020-12-29T06:01:41.000Z</updated>
    <category term="java" />
    <entry>
        <id>http://book.asmyun.com/2020/12/29/computer-science/hadoop/hadoop-install/</id>
        <title>hadoop_install</title>
        <link rel="alternate" href="http://book.asmyun.com/2020/12/29/computer-science/hadoop/hadoop-install/"/>
        <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#hadoop%E4%BB%8B%E7%BB%8D&#34;&gt;hadoop 介绍&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%AE%B0%E5%BD%95%E9%9B%86%E8%BF%9E%E6%8E%A5&#34;&gt;记录集连接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%AE%B0%E5%BD%95%E5%85%B3%E8%81%94&#34;&gt;记录关联&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;a href=&#34;#&#34;&gt;Post not found: kettle-install 安装kettle&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&#34;#&#34;&gt;Post not found: kettle-one 编写第一个作业&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&#34;#&#34;&gt;Post not found: kettle-control 组件介绍&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href=&#34;#&#34;&gt;Post not found: kettle-demo kettle示例&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;hadoop介绍&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hadoop介绍&#34;&gt;#&lt;/a&gt; hadoop 介绍&lt;/h4&gt;
&lt;h4 id=&#34;hadoop下载&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hadoop下载&#34;&gt;#&lt;/a&gt; hadoop 下载&lt;/h4&gt;
&lt;h4 id=&#34;hadoop安装&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hadoop安装&#34;&gt;#&lt;/a&gt; hadoop 安装&lt;/h4&gt;
&lt;h4 id=&#34;hadoop配置&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hadoop配置&#34;&gt;#&lt;/a&gt; hadoop 配置&lt;/h4&gt;
&lt;h4 id=&#34;hadoop异常解决&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hadoop异常解决&#34;&gt;#&lt;/a&gt; hadoop 异常解决&lt;/h4&gt;
&lt;h5 id=&#34;error-but-there-is-no-hdfs_namenode_user-defined-aborting-operation&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#error-but-there-is-no-hdfs_namenode_user-defined-aborting-operation&#34;&gt;#&lt;/a&gt; ERROR: but there is no HDFS_NAMENODE_USER defined. Aborting operation.&lt;/h5&gt;
&lt;p&gt;The root cause of this problem,&lt;/p&gt;
&lt;p&gt;hadoop install for different user and you start yarn service for different user. OR&lt;br&gt;
in hadoop config’s &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL2hhZG9vcC1lbnYuc2g=&#34;&gt;hadoop-env.sh&lt;/span&gt; specified HDFS_NAMENODE_USER and HDFS_DATANODE_USER user is something else.&lt;br&gt;
Hence we need to correct and make it consistent at every place. So a simple solution of this problem is to edit your &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL2hhZG9vcC1lbnYuc2g=&#34;&gt;hadoop-env.sh&lt;/span&gt; file and add the user-name for which you want to start the yarn service. So go ahead and edit $HADOOP_HOME/etc/hadoop/hadoop-env.sh by adding the following lines&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;export HDFS_NAMENODE_USER=root&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;export HDFS_DATANODE_USER=root&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;export HDFS_SECONDARYNAMENODE_USER=root&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;export YARN_RESOURCEMANAGER_USER=root&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;export YARN_NODEMANAGER_USER=root&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h5 id=&#34;error-java_home-is-not-set-and-could-not-be-found&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#error-java_home-is-not-set-and-could-not-be-found&#34;&gt;#&lt;/a&gt; ERROR: JAVA_HOME is not set and could not be found.&lt;/h5&gt;
&lt;p&gt;没有配置好 java 环境变量&lt;br&gt;
第一种临时修改环境变量&lt;br&gt;
 &lt;code&gt;export JAVA_HOME=/usr/java/jdk1.6.0_45&lt;/code&gt; &lt;br&gt;
 第二种修改 hadoop JAVA_HOME&lt;br&gt;
 &lt;code&gt;cd $HADOOP_HOME/etc/hadoop&lt;/code&gt; &lt;br&gt;
 &lt;code&gt;vim hadoop-env.sh&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# Many of the options here are built from the perspective that users&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# may want to provide OVERWRITING values on the command line.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# For example:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#  JAVA_HOME=/usr/java/testing hdfs dfs -ls&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# Therefore, the vast majority (BUT NOT ALL!) of these defaults&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# are configured for substitution and not append.  If append&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# is preferable, modify this file accordingly.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;###&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# Generic settings for HADOOP&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;###&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# Technically, the only required environment variable is JAVA_HOME.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# All others are optional.  However, the defaults are probably not&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# preferred.  Many sites configure these options outside of Hadoop,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# such as in /etc/profile.d&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# The java implementation to use. By default, this environment&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# variable is REQUIRED on ALL platforms except OS X!&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;export JAVA_HOME=/root/java/jdk1&lt;span class=&#34;number&#34;&gt;.8&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.0_271&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# Location of Hadoop.  By default, Hadoop will attempt to determine&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# this location based upon its execution path.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# export HADOOP_HOME=&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# Location of Hadoop&amp;#x27;s configuration information.  i.e., where this&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# file is living. If this is not defined, Hadoop will attempt to&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# locate it based upon its execution path.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# &lt;span class=&#34;doctag&#34;&gt;NOTE:&lt;/span&gt; It is recommend that this variable not be set here but in&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# /etc/profile.d or equivalent.  Some options (such as&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# --config) may react strangely otherwise.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# export HADOOP_CONF_DIR=$&amp;#123;HADOOP_HOME&amp;#125;/etc/hadoop&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# The maximum amount of heap to use (Java -Xmx).  If no unit&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# is provided, it will be converted to MB.  Daemons will&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# prefer any Xmx setting in their respective _OPT variable.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# There is no default; the JVM will autoscale based upon machine&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# memory size.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# export HADOOP_HEAPSIZE_MAX=&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h5 id=&#34;permission-denied-publickeygssapi-keyexgssapi-with-micpassword&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#permission-denied-publickeygssapi-keyexgssapi-with-micpassword&#34;&gt;#&lt;/a&gt; Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).&lt;/h5&gt;
</content>
        <updated>2020-12-29T06:01:41.000Z</updated>
    </entry>
</feed>
